import React from "react";
import { MinicartContext } from "./minicart-context";

const MinicartButton = () => {
    return (
        <MinicartContext.Consumer>

            {context => (
                <>
                    <button data-target="minicart__items" className="minicart__button-open icons__item has--children">
                        <span className="icon__name">Carrinho</span>
                        {(context.state.totalItems > 0 && (
                            <svg xmlns="http://www.w3.org/2000/svg" className="icon" width="18" height="24" viewBox="0 0 18 24" fill="none">
                                <path d="M2 6H16L17.5 23.5H0.5L2 6Z" fill="white" />
                                <path d="M15.6853 5.3953H13.3043V4.24465C13.3043 1.90422 11.3549 0 8.95834 0C6.56216 0 4.61281 1.90446 4.61281 4.24465V5.3953H2.2562C1.99341 5.3953 1.78 5.60351 1.78 5.86042L0 23.5349C0 23.7915 0.213406 24 0.476199 24H17.5238C17.7867 24 18 23.7915 18 23.5349L16.1615 5.86042C16.1615 5.60351 15.9482 5.3953 15.6853 5.3953ZM5.56497 4.24441C5.56497 2.41692 7.08688 0.930003 8.9581 0.930003C10.8295 0.930003 12.3519 2.41697 12.3519 4.24441V5.39507H5.56497V4.24441ZM17.0476 23.0698H0.952398L2.7324 6.32554H4.61257V8.37377C4.38274 8.52401 4.23161 8.77938 4.23161 9.0696C4.23161 9.53177 4.61535 9.90683 5.08877 9.90683C5.56172 9.90683 5.94594 9.53177 5.94594 9.0696C5.94594 8.77938 5.79433 8.52401 5.56497 8.37377V6.32554H12.3519V8.37377C12.1222 8.52401 11.971 8.77938 11.971 9.0696C11.971 9.53177 12.3549 9.90683 12.8282 9.90683C13.3012 9.90683 13.6854 9.53177 13.6854 9.0696C13.6854 8.77938 13.5338 8.52401 13.3044 8.37377V6.32554H15.2092L17.0477 23.0698H17.0476Z" fill="white" />
                                <circle cx="5" cy="9" r="1" fill="black" />
                                <circle cx="13" cy="9" r="1" fill="black" />
                            </svg>
                        )) || (
                                <svg xmlns="http://www.w3.org/2000/svg" className="icon" width="19" height="25" viewBox="0 0 19 25" fill="none">
                                    <path d="M15.9587 5.62011H13.5362V4.42151C13.5362 1.98356 11.5528 0 9.11447 0C6.67653 0 4.69321 1.98381 4.69321 4.42151V5.62011H2.29552C2.02815 5.62011 1.81103 5.83699 1.81103 6.1046L0 24.5155C0 24.7828 0.217125 25 0.484499 25H17.8293C18.0967 25 18.3137 24.7828 18.3137 24.5155L16.4431 6.1046C16.4432 5.83699 16.2262 5.62011 15.9587 5.62011ZM5.66196 4.42126C5.66196 2.51763 7.2104 0.968753 9.11423 0.968753C11.0182 0.968753 12.5672 2.51768 12.5672 4.42126V5.61986H5.66196V4.42126ZM17.3448 24.031H0.968997L2.78002 6.5891H4.69296V8.72268C4.45912 8.87918 4.30536 9.14518 4.30536 9.4475C4.30536 9.92893 4.69579 10.3196 5.17746 10.3196C5.65865 10.3196 6.04957 9.92893 6.04957 9.4475C6.04957 9.14518 5.89532 8.87918 5.66196 8.72268V6.5891H12.5672V8.72268C12.3334 8.87918 12.1797 9.14518 12.1797 9.4475C12.1797 9.92893 12.5703 10.3196 13.0518 10.3196C13.5331 10.3196 13.9239 9.92893 13.9239 9.4475C13.9239 9.14518 13.7697 8.87918 13.5363 8.72268V6.5891H15.4743L17.3449 24.031H17.3448Z" fill="white" />
                                </svg>
                            )}
                        <span className="minicart__counter">{context.state.totalItems}</span>
                    </button>
                    <div id="overlay"></div>
                </>
            )}

        </MinicartContext.Consumer>
    );
}

export default MinicartButton;